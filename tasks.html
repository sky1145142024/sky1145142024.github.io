<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>任务列表 - 任务众包平台</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-50">
  <!-- 导航栏 -->
  <nav class="bg-white shadow-md">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <a href="index.html" class="text-xl font-bold text-blue-600">任务众包平台</a>
        </div>
        <div class="flex items-center">
          <a href="dashboard.html" class="mr-4 text-gray-700 hover:text-blue-600">个人中心</a>
          <a href="create-task.html" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md">发布任务</a>
        </div>
      </div>
    </div>
  </nav>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl font-bold mb-6">浏览可接取的任务</h1>
    
    <div id="tasksList" class="space-y-4">
      <!-- 任务列表将通过JavaScript动态生成 -->
      <div class="text-center py-8 text-gray-500">
        <i class="fa fa-spinner fa-spin text-2xl mb-2"></i>
        <p>加载任务中...</p>
      </div>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/tasks.js"></script>
  <script>
    // 页面加载时检查登录状态并加载任务
    document.addEventListener('DOMContentLoaded', () => {
      checkAuthStatus().then(user => {
        loadAvailableTasks(user.uid);
      }).catch(() => {
        // 未登录，跳转到登录页
        window.location.href = 'login.html';
      });
    });
  </script>
</body>
</html>

